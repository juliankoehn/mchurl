import React from 'react';
import { NavigationLink } from './NavigationLink';
import { User } from 'models/user';

interface Props {
    user: User
}

interface State {
    userDropdown: boolean
}

export class Navigation extends React.Component<Props, State> {

    constructor(props: Props) {
        super(props)
        this.state = {
            userDropdown: false
        }
    }

    toggleUserDropdown = () => {
        const { userDropdown } = this.state
        this.setState({
            userDropdown: !userDropdown
        })
    }

    render() {
        const { user } = this.props
        const { userDropdown } = this.state
        return (
            <div className="bg-gray-300">
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div className="flex items-center justify-between h-16">
                        <div className="flex items-center">
                            <div className="flex-shrink-0">
                                <svg className="w-8 h-8" viewBox="0 0 170.078 170.08" xmlns="http://www.w3.org/2000/svg">
                                    <path fill="#073B68" d="M0 0h170.078v170.08H0V0z" />
                                    <defs>
                                        <path id="a" d="M0 0h170.078v170.08H0V0z" />
                                    </defs>
                                    <clipPath id="b">
                                        <path id="a" d="M0 0h170.078v170.08H0V0z" />
                                    </clipPath>
                                    <path clipPath="url(#b)" fill="#A4CBB8" d="M106.402 151.785l-51.471 36.824-38.845-1.568 70.972-48.973c-9-7.699-13.739-16.068-11.295-28.793 6.869-35.74 67.205-34.61 67.493 7.473l-22.26-.002.004-2.545c.023-14.322-21.918-12.768-22.471-1.231-.193 4.039 2.813 7.116 8.731 11.737l84.718 61.17-36.52.99-49.056-35.082z" /><path fill="#FFF" d="M21.722 59.197H19.92v7.002h-9.317v-7.002H8.8v15.914h1.803v-7.32h9.317v7.32h1.802V59.197zM41.785 71.738l1.252 3.373h1.867l-5.941-15.914h-2.547l-5.793 15.914h1.888l1.231-3.373h8.043zm-.51-1.487H34.23l3.502-9.569 3.543 9.569zM69.455 60.554h.043v14.557h1.803V59.197h-3.119L62.538 72.82l-5.623-13.623h-3.119v15.914h1.803V60.554h.043l6.026 14.557h1.782l6.005-14.557zM83.17 67.726h5.92c2.376-.041 2.694 1.02 2.694 3.12 0 2.44-.954 2.674-2.907 2.674H83.17v-5.794zm6.662 7.385c2.695 0 3.757-1.57 3.757-4.435 0-1.974-.341-3.501-2.462-3.884v-.041c1.655-.553 1.994-1.678 1.994-3.354 0-2.779-.7-4.201-3.692-4.201h-8.063V75.11h8.466v.001zM83.17 60.789h5.431c1.889 0 2.717.232 2.717 2.376 0 2.483-.743 2.971-2.907 2.971H83.17v-5.347zM114.408 59.197v11.458c0 2.972-1.295 2.992-4.5 2.992-3.883 0-4.497-.403-4.497-2.992V59.197h-1.806v11.458c0 4.499 2.823 4.583 6.303 4.583 3.757 0 6.303-.318 6.303-4.583V59.197h-1.803zM128.266 68.746h5.793c2.186 0 2.674.976 2.674 2.992v3.373h1.805v-4.223c0-1.719-.786-2.736-2.569-2.864v-.042c2.526-.318 2.78-1.975 2.78-4.201 0-3.629-1.508-4.584-4.944-4.584h-7.341v15.914h1.803v-6.365h-.001zm0-1.592v-6.365h5.559c2.845 0 3.119.764 3.119 2.801 0 2.631-.338 3.48-3.119 3.564h-5.559zM154.352 67.154v1.592h5.072v1.973c0 2.547-.682 2.929-3.842 2.929h-1.699c-2.969 0-3.988-.679-3.988-3.714V64.82c0-3.48.51-4.159 3.947-4.159h2.229c2.588 0 3.311.446 3.311 2.271v.912h1.803v-1.23c0-2.568-1.848-3.543-4.244-3.543h-4.181c-2.715 0-4.667 1.23-4.667 5.537v4.924c0 4.922 1.866 5.707 6.109 5.707h1.74c3.609 0 5.283-.891 5.283-4.625v-3.459h-6.873v-.001zM25.367 38.642h.113L25.21 53h3.238V35.962H23.14l-4.497 12.653h-.09l-4.587-12.653H8.771V53h3.238l-.269-14.29h.066L17.159 53h2.901l5.307-14.358zM36.184 40.937c-4.925 0-5.553 1.477-5.553 6.11 0 4.61.628 6.087 5.553 6.087s5.554-1.477 5.554-6.087c0-4.633-.629-6.11-5.554-6.11zm0 2.181c2.519 0 2.722.727 2.722 3.952 0 3.18-.203 3.885-2.722 3.885-2.518 0-2.721-.705-2.721-3.885 0-3.226.203-3.952 2.721-3.952zM48.709 43.118c2.451 0 2.788 1.022 2.788 3.566 0 2.839.112 4.271-2.788 4.271-2.586 0-2.519-1.567-2.519-4.271 0-2.999.562-3.566 2.519-3.566zM51.542 53h2.834V35.962h-2.834v6.701h-.113c-.607-1.454-2.113-1.727-3.552-1.727-4.049 0-4.521 2.248-4.521 5.747 0 3.657.136 6.45 4.521 6.45 1.664 0 2.967-.362 3.687-1.93h.09L51.542 53zM64.54 49.205c0 1.772-1.102 1.75-2.677 1.75-2.54 0-2.607-.818-2.607-3.385h8.117c0-5.201-.653-6.633-5.51-6.633-4.767 0-5.441 1.863-5.441 6.133 0 4.611.921 6.064 5.441 6.064 3.374 0 5.51-.181 5.51-3.93H64.54v.001zm-5.284-3.453c0-2.112.156-2.635 2.607-2.635 2.316 0 2.677.182 2.677 2.635h-5.284zM82.73 41.664v-.931c-.224-4.884-2.631-4.907-6.836-4.907-4.97 0-7.061 1.227-7.061 6.679v3.907c.067 4.975 1.124 6.951 7.061 6.723 4.183-.181 7.083 0 7.016-5.133v-1.113h-3.238v.932c0 2.43-1.17 2.521-3.778 2.521-3.396 0-3.801-.659-3.823-4.066v-3.771c0-3.339.562-3.884 3.823-3.884 2.833 0 3.598.136 3.598 2.112v.931h3.238zM92.419 49.205c0 1.772-1.102 1.75-2.676 1.75-2.541 0-2.609-.818-2.609-3.385h8.119c0-5.201-.653-6.633-5.51-6.633-4.767 0-5.443 1.863-5.443 6.133 0 4.611.922 6.064 5.443 6.064 3.373 0 5.51-.181 5.51-3.93h-2.834v.001zm-5.285-3.453c0-2.112.158-2.635 2.609-2.635 2.315 0 2.676.182 2.676 2.635h-5.285zM97.273 41.074V53h2.834v-6.565c0-2.136.338-3.316 2.811-3.316 1.822 0 2.204.591 2.204 2.317V53h2.834v-7.86c0-2.907-.945-4.202-4.048-4.202-1.664 0-3.081.182-3.711 1.932h-.09v-1.795h-2.834v-.001zM108.986 43.253h1.483v6.134c0 3.021.946 3.747 4.05 3.747 3.058 0 3.957-1.09 3.912-4.701h-2.496c0 1.249.18 2.521-1.416 2.521-1.191 0-1.191-.5-1.216-1.59v-6.111h4.522v-2.18h-4.522V38.37h-2.834v2.703h-1.483v2.18zM119.49 41.074V53h2.834v-7.36c-.045-1.545.449-2.521 2.136-2.521 1.327 0 1.438.704 1.438 1.908v.613h2.653v-.954c0-2.248-.606-3.748-3.103-3.748-1.371 0-2.586.387-3.149 1.704h-.112l.068-1.567h-2.765v-.001zM140.693 53V41.074h-2.832v6.883c0 2.066-.696 2.998-2.879 2.998-1.821 0-1.979-.659-1.979-2.363v-7.518h-2.834v8.631c.023 2.613 1.598 3.43 3.959 3.43 1.619 0 3.081-.385 3.732-1.975h.09V53h2.743zM143.236 41.074V53h2.832v-6.725c0-2.112.449-3.157 2.744-3.157 1.551 0 1.912.591 1.979 2.09V53h2.834v-6.725c0-2.112.449-3.157 2.744-3.157 1.551 0 1.91.591 1.977 2.09V53h2.834v-8.064c0-2.93-1.012-3.998-4.07-3.998-1.573 0-3.192.454-3.731 2.113h-.09c-.315-1.727-2.024-2.113-3.509-2.113s-3.08.341-3.711 1.863h-.09v-1.727h-2.743z" />
                                </svg>
                            </div>
                            <div className="block">
                                <div className="ml-10 flex items-baseline">
                                    <NavigationLink
                                        exact
                                        to="/admin/dashboard"
                                    >Home</NavigationLink>
                                    <NavigationLink
                                        exact
                                        to="/admin/links"
                                    >Links</NavigationLink>
                                </div>
                            </div>
                        </div>
                            <div className="block">
                                <div className="ml-4 flex items-center md:ml-6">
                                    {/** profile dropdown */}
                                    <div className="ml-3 relative">
                                        <button
                                            className="max-w-xs flex items-center text-sm rounded-full text-black focus:outline-none focus:shadow-solid"
                                            id="user-menu"
                                            aria-label="User Menu"
                                            aria-haspopup="true"
                                            onClick={() => this.toggleUserDropdown()}
                                        >
                                            {user.email}
                                        </button>

                                        {userDropdown && (
                                            <div
                                                className="origin-top-right absolute right-0 mt-0 mt-2 w-48 rounded-md shadow-lg"
                                            >
                                                <div className="py-1 rounded-md bg-white shadow-xs" role="menu" aria-orientation="vertical" aria-labelledby="user-menu">
                                                <a href="#" className="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem">Sign out</a>
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                </div>
                        </div>
                    </div>
                </div>
            </div>
        )
    }
}